/*
    FILE : 
      dotenv.ts 
    TITLE : 
      .env 파일을 생성한다
    CREATED : 2022.05.11
*/

/////////////////////////////////////////////////////////////////////
//
//  IMPORTS
//
import fs from "fs";
import os from "os";

import { PATH_ENV } from "../util/path";

/////////////////////////////////////////////////////////////////////
//
//  CONSTS
//

/////////////////////////////////////////////////////////////////////
//
//  VARIABLES
//

/////////////////////////////////////////////////////////////////////
//
//  DEFAULTS
//

/////////////////////////////////////////////////////////////////////
//
//  PRIVATE FUNCTIONS
//

/////////////////////////////////////////////////////////////////////
//
//  EXPORTS FUNCTIONS
//

/**
 * .env 파일을 생성한다
 * @param arr 생성할 key, value 내용
 */
export function dotenvCreate(arr: KeyValue[]) {
  let buffer = [];
  for (let line of arr) {
    buffer.push(`${line.key}=${line.value}`);
  }
  fs.writeFileSync(PATH_ENV, buffer.join(os.EOL));
}

export interface KeyValue {
  key: string;
  value: string;
}
